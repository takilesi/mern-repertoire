{"ast":null,"code":"import _regeneratorRuntime from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// LoginForm.js\nimport{useState}from'react';import*as usersService from'../../utilities/users-service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(_ref){var setUser=_ref.setUser;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function handleChange(evt){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},evt.target.name,evt.target.value)));setError('');}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Prevent form from being submitted to the server\nevt.preventDefault();_context.prev=1;_context.next=4;return usersService.login(credentials);case 4:user=_context.sent;setUser(user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError('Log In Failed - Try Again');case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:credentials.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"LOG IN\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",error]})]});}","map":{"version":3,"names":["useState","usersService","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","setUser","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","_useState3","_useState4","error","setError","handleChange","evt","_objectSpread","_defineProperty","target","name","value","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","wrap","_callee$","_context","prev","next","preventDefault","login","sent","t0","stop","children","className","onSubmit","autoComplete","type","onChange","required"],"sources":["/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/src/components/LoginForm/LoginForm.js"],"sourcesContent":["// LoginForm.js\n\nimport { useState } from 'react';\nimport * as usersService from '../../utilities/users-service';\n\nexport default function LoginForm({ setUser }) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: '',\n  });\n  const [error, setError] = useState('');\n\n  function handleChange(evt) {\n    setCredentials({ \n        ...credentials, \n        [evt.target.name]: evt.target.value });\n    setError('');\n  }\n\n  async function handleSubmit(evt) {\n    // Prevent form from being submitted to the server\n    evt.preventDefault();\n    try {\n      // The promise returned by the signUp service method\n      // will resolve to the user object included in the\n      // payload of the JSON Web Token (JWT)\n      const user = await usersService.login(credentials);\n      setUser(user);\n    } catch {\n      setError('Log In Failed - Try Again');\n    }\n  }\n\n  return (\n    <div>\n      <div className='form-container' onSubmit={handleSubmit}>\n        <form autoComplete='off'>\n          <label>Email</label>\n          <input\n            type='text'\n            name='email'\n            value={credentials.email}\n            onChange={handleChange}\n            required\n          />\n          <label>Password</label>\n          <input\n            type='password'\n            name='password'\n            value={credentials.password}\n            onChange={handleChange}\n            required\n          />\n          <button type='submit'>LOG IN</button>\n        </form>\n      </div>\n      <p className='error-message'>&nbsp;{error}</p>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}