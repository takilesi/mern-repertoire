{"ast":null,"code":"import _regeneratorRuntime from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{signUp}from\"../../utilities/users-service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUpForm(_ref){var setUser=_ref.setUser;var _useState=useState({name:'',email:'',password:'',confirm:'',error:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var disable=formData.password!==formData.confirm;var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var newFormData,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Prevent form from being submitted to the server\ne.preventDefault();_context.prev=1;// We don't want to send the 'error' or 'confirm' property,\n// so let's make a copy of the state object, then delete them\nnewFormData=_objectSpread({},formData);delete newFormData.error;delete newFormData.confirm;// or\n// const {name, email, password} = formData\n_context.next=7;return signUp(newFormData);case 7:user=_context.sent;setUser(user);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);// An error occurred\nsetFormData(_objectSpread(_objectSpread({},formData),{},{error:'Sign Up Failed - Try Again'}));case 14:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[console.log(formData),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm\",value:formData.confirm,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:disable,children:\"SIGN UP\"})]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\xA0\",formData.error]})]});}","map":{"version":3,"names":["useState","signUp","jsx","_jsx","jsxs","_jsxs","SignUpForm","_ref","setUser","_useState","name","email","password","confirm","error","_useState2","_slicedToArray","formData","setFormData","disable","handleChange","e","_objectSpread","_defineProperty","target","value","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newFormData","user","wrap","_callee$","_context","prev","next","preventDefault","sent","t0","stop","_x","apply","arguments","children","console","log","className","autoComplete","onSubmit","type","onChange","required","disabled"],"sources":["/Users/douglasdeckert/PerScholas/93_RTT/mod-three/mern-rep/src/components/SignUpForm/SignUpForm.js"],"sourcesContent":["import { useState } from 'react'\nimport { signUp } from \"../../utilities/users-service\";\n\nexport default function SignUpForm({setUser}) {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirm: '',\n    error: ''\n  });\n\n  const disable = formData.password !== formData.confirm\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e) =>  {\n    // Prevent form from being submitted to the server\n    e.preventDefault()\n    try {\n      // We don't want to send the 'error' or 'confirm' property,\n      // so let's make a copy of the state object, then delete them\n      const newFormData = {...formData};\n      delete newFormData.error;\n      delete newFormData.confirm;\n      // or\n      // const {name, email, password} = formData\n\n      const user = await signUp(newFormData)\n      setUser(user)\n    } catch(err) {\n      // An error occurred\n      setFormData({...formData, error: 'Sign Up Failed - Try Again'})\n    }\n  }\n\n  return (\n    <div>\n      {console.log(formData)}\n      <div className=\"form-container\">\n        <form autoComplete=\"off\" onSubmit={handleSubmit}>\n          <label>Name</label>\n          <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} required />\n          <label>Email</label>\n          <input type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required />\n          <label>Password</label>\n          <input type=\"password\" name=\"password\" value={formData.password} onChange={handleChange} required />\n          <label>Confirm</label>\n          <input type=\"password\" name=\"confirm\" value={formData.confirm} onChange={handleChange} required />\n          <button type=\"submit\" disabled={disable}>SIGN UP</button>\n        </form>\n      </div>\n      <p className=\"error-message\">&nbsp;{formData.error}</p>\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}